#:import Factory kivy.factory.Factory

BoxLayout:
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            pos: self.pos
            size: self.size


    Upper_bar:
        size_hint: (1, 0.8)
        MyCamera:
            id: camera

    Middle_bar:
        spacing: 8
        padding: 8
        size_hint: (1, 0.1)
        Button:
            background_color: 0,0,0,0  # the last zero is the critical on, make invisible
            canvas.before:
                Color:
                    rgba: (.8,.6,.4,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [18,]
            text: 'Location'
            font_size : 20
            on_press: Factory.LocationPop().open()

        Button:
            background_color: 0,0,0,0  # the last zero is the critical on, make invisible
            canvas.before:
                Color:
                    rgba: (.8,.6,.4,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [18,]
            text: 'Save'
            font_size : 20

            on_release:
                app.printOpenImage()
                app.imageSave()

            text: '저장'
            font_size : 20


    ScrollView:
        size_hint: (1, 0.1)
        do_scroll_x: True
        do_scroll_y: False

        Under_bar:
            spacing: 8
            padding: 8
            size_hint_x: 1.5


            Button:
                id: none
                text: "오리지널"
                font_size : 20
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                on_release:
                    app.setStickerImage('none.png')

            Button:
                id: tear
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]

                text: '눈물'
                font_size : 20
                on_release:
                    app.setStickerImage('tear.png')

            Button:
                id: mustache
                text: "콧수염"
                font_size : 20
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press

                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                on_release:
                    app.setStickerImage('suyum.png')


            Button:
                id: sunglass
                text: "선글라스"
                font_size : 20
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press

                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                on_release:
                    app.setStickerImage('sunglass.png')

            Button:
                id: strawberry
                text: "딸기"
                font_size : 20
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                on_release:
                    app.setStickerImage('berry.png')

            Button:
                id: doggy
                text: "강아지"
                font_size : 20
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                canvas.before:
                    Color:
                        rgba: (.6,.8509,.9176,1) if self.state=='normal' else (0,.7,.7,1)  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [18,]
                on_release:
                    app.setStickerImage('dog.png')






<LocationPop@Popup>:
    size_hint: (0.9, 0.9)
    auto_dismiss: False
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: 'vertical'

        FileChooserIconView:

            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                on_release:
                    app.Save_path = filechooser.path
                    print(app.Save_path)
                    root.dismiss()

                text: '선택'

            Label:

            Button:
                text: 'Cancel'
                on_release: root.dismiss()